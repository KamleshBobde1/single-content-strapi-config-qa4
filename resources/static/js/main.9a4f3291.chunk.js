(this["webpackJsonpentando-mf-template"]=this["webpackJsonpentando-mf-template"]||[]).push([[0],{76:function(t,e){},77:function(t,e){},78:function(t,e,n){},80:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),i=n(4),r=n(26),o=n(27),l=n(28),s=n(30),I=n(31),d=n(29),u=n.n(d),m=n(3),b=n(10),Z=n(14),N=n(7),j=n.n(N),h=("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PUBLIC_API_TARGET_URL:"http://172.40.0.142:8081",REACT_APP_PUBLIC_API_URL:"/entando-template-api/api",REACT_APP_STRAPI_CONFIG_BE_URL:"http://172.40.0.142:8082/api/config/",REACT_APP_STRAPI_CONFIG_FE_URL:"http://172.40.0.142:3001",REACT_APP_LOCAL_STRAPI_TOKEN:"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5NWNKaVRjejRGTU00RFU5YWhaa0lVS3ZiZ0xEUEhsRDM5N190UG9YSDV3In0.eyJleHAiOjE2NTc5NTU3NzMsImlhdCI6MTY1Nzk1NTQ3MywiYXV0aF90aW1lIjoxNjU3OTU0MTY5LCJqdGkiOiI3ZGY1NmEzOC1jMDc0LTRmMmYtYjNjZC04YWY1NmI0OGYzODMiLCJpc3MiOiJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvL2F1dGgvcmVhbG1zL2VudGFuZG8iLCJhdWQiOlsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiLCJhY2NvdW50Il0sInN1YiI6ImM3NjgyODFmLTIxYTMtNDQyZC04OWMwLTY1OWVkMGE0ODA3YiIsInR5cCI6IkJlYXJlciIsImF6cCI6ImVudGFuZG8td2ViIiwibm9uY2UiOiIzNmQyMGFhYS0xZDk4LTQwMjEtODQ0MS1jNTZhNTQzMTMxNGEiLCJzZXNzaW9uX3N0YXRlIjoiNWRiMzczN2EtOTcyZi00ZmMwLWI1YzYtYTk1ZTI1OThkZTFlIiwiYWNyIjoiMCIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1lbnRhbmRvIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiOnsicm9sZXMiOlsiZW50YW5kb0FwcCIsImV0LXNlY29uZC1yb2xlIiwiZXQtZmlyc3Qtcm9sZSJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjVkYjM3MzdhLTk3MmYtNGZjMC1iNWM2LWE5NWUyNTk4ZGUxZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.HrF6qG6N0WA-8CQJWTKbKRaUcKLeNHgDl0zHdMkfDWPEpUyCj_nuLD0IzTmzYb8iS7PfFU58O1mZCTO64sfWHpXcHZkZJdR0zo8t627Qadb1fs2pqNu9EIRrIeXH7tMseiQC_eZCgI_VCgsIxTIdsZTJNiY9OBJsc8O2SHvKaa2d56ra4uE07q73_CdLV2kFAiPaiB5VSsLIQZotBU42GDXjSkaz3vEAUrnXKZAbPJAd30VQk0JTyLOPwhtsnKZpTy4ocu1WjY9dXIBDG9tc0tTMjgy9JPdTcLIvDJINXM96OtVVFMqaPAqbbudckbHwdagQqLKNv4kuJxgFxRNj6g"}).REACT_APP_STRAPI_API_URL),"".concat("/entando-template-api/api","/template/searchby/"),{Authorization:"EntKcToken ".concat("eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5NWNKaVRjejRGTU00RFU5YWhaa0lVS3ZiZ0xEUEhsRDM5N190UG9YSDV3In0.eyJleHAiOjE2NTc5NTU3NzMsImlhdCI6MTY1Nzk1NTQ3MywiYXV0aF90aW1lIjoxNjU3OTU0MTY5LCJqdGkiOiI3ZGY1NmEzOC1jMDc0LTRmMmYtYjNjZC04YWY1NmI0OGYzODMiLCJpc3MiOiJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvL2F1dGgvcmVhbG1zL2VudGFuZG8iLCJhdWQiOlsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiLCJhY2NvdW50Il0sInN1YiI6ImM3NjgyODFmLTIxYTMtNDQyZC04OWMwLTY1OWVkMGE0ODA3YiIsInR5cCI6IkJlYXJlciIsImF6cCI6ImVudGFuZG8td2ViIiwibm9uY2UiOiIzNmQyMGFhYS0xZDk4LTQwMjEtODQ0MS1jNTZhNTQzMTMxNGEiLCJzZXNzaW9uX3N0YXRlIjoiNWRiMzczN2EtOTcyZi00ZmMwLWI1YzYtYTk1ZTI1OThkZTFlIiwiYWNyIjoiMCIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1lbnRhbmRvIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiOnsicm9sZXMiOlsiZW50YW5kb0FwcCIsImV0LXNlY29uZC1yb2xlIiwiZXQtZmlyc3Qtcm9sZSJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjVkYjM3MzdhLTk3MmYtNGZjMC1iNWM2LWE5NWUyNTk4ZGUxZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.HrF6qG6N0WA-8CQJWTKbKRaUcKLeNHgDl0zHdMkfDWPEpUyCj_nuLD0IzTmzYb8iS7PfFU58O1mZCTO64sfWHpXcHZkZJdR0zo8t627Qadb1fs2pqNu9EIRrIeXH7tMseiQC_eZCgI_VCgsIxTIdsZTJNiY9OBJsc8O2SHvKaa2d56ra4uE07q73_CdLV2kFAiPaiB5VSsLIQZotBU42GDXjSkaz3vEAUrnXKZAbPJAd30VQk0JTyLOPwhtsnKZpTy4ocu1WjY9dXIBDG9tc0tTMjgy9JPdTcLIvDJINXM96OtVVFMqaPAqbbudckbHwdagQqLKNv4kuJxgFxRNj6g")}),O=function(){var t=Object(i.a)(a.a.mark((function t(e){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("".concat("/entando-template-api/api","/template/").concat(e));case 2:return n=t.sent,c=n.data,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),W=function(){var t=Object(i.a)(a.a.mark((function t(e,n){var c,i,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e&&n||console.error(e,n),c="".concat(T(),"/content-manager/collection-types/api::").concat(e,".").concat(e,"/").concat(n),t.next=4,j.a.get(c,p({},"EntKcToken"));case 4:return i=t.sent,r=i.data,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Y=function(t){var e=window&&window.entando&&window.entando.keycloak&&window.entando.keycloak.authenticated?window.entando.keycloak.token:localStorage.getItem("token");return e?{headers:{Authorization:"".concat(t," ").concat(e)}}:"EntKcToken"===t?{headers:h}:{}},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Bearer",n=Y(e);return Object(Z.a)(Object(Z.a)({},t),n)},C=function(){var t=Object(i.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("http://172.40.0.142:8082/api/config/").then((function(t){return t})).catch((function(t){return t}));case 2:return e=t.sent,t.abrupt("return",y(e));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){return localStorage.getItem("STRAPI_CONFIG")},y=function(t){var e=!1;return t.hasOwnProperty("toJSON")&&"Error"===t.toJSON().name&&(e=!0),{data:t,isError:e}},w=(n(78),"STRAPI_CONFIG"),v="Strapi configuration not available",J=n(0);function M(){return Object(J.jsxs)("div",{className:"center well",children:[Object(J.jsx)("div",{children:Object(J.jsx)("h4",{children:Object(J.jsxs)("strong",{children:[" ",Object(J.jsx)("span",{className:"pficon pficon-warning-triangle-o"})," ","Seems like Strapi URL is not configured correctly. Please go to the below link to configure it"," "]})})}),Object(J.jsx)("div",{children:Object(J.jsx)("a",{href:"http://172.40.0.142:3001",target:"_blank",children:"http://172.40.0.142:3001"})}),Object(J.jsx)("div",{className:"mt-2",children:Object(J.jsx)("button",{bsStyle:"primary",onClick:function(){return window.location.reload()},children:"Reload Page"})})]})}var k=n(55);var f=function(t){var e=t.name,n=(t.nameTwo,t.templateId),c=t.contentId,r=Object(m.useState)(null),o=Object(b.a)(r,2),l=(o[0],o[1]),s=Object(m.useState)(null),I=Object(b.a)(s,2),d=(I[0],I[1]),u=Object(m.useState)(null),Z=Object(b.a)(u,2),N=Z[0],j=Z[1];return Object(m.useEffect)(Object(i.a)(a.a.mark((function t(){var i,r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(n);case 2:return i=t.sent,t.next=5,W(e,c);case 5:r=t.sent,l(i),d(r),r&&i&&(Object.keys(r).length>0&&Object.keys(r).map((function(t,e){r[t]&&Array.isArray(r[t])?r[t]&&r[t][0]&&r[t][0].ext&&r[t].map((function(t){return t.url=T()+t.url})):r[t]&&"object"===typeof r[t]&&r[t]&&r[t].ext&&"object"===typeof r[t]&&(r[t].url=T()+r[t].url)})),o=k.render(i.contentShape,{content:r}),j(o));case 9:case"end":return t.stop()}}),t)}))),[]),localStorage.getItem(w)?Object(J.jsx)(J.Fragment,{children:N?Object(J.jsx)("div",{dangerouslySetInnerHTML:{__html:N}}):Object(J.jsx)("h1",{children:"Loading..."})}):Object(J.jsx)(M,{})},g={name:"name",nameTwo:"nameTwo",selectedTemplateId:"selectedTemplateId",selectedContentId:"selectedContentId",selectedContentName:"selectedContentName"},x=function(t){Object(l.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(r.a)(this,n);for(var c=arguments.length,o=new Array(c),l=0;l<c;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))).getStrapiConfiguration=Object(i.a)(a.a.mark((function e(){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem(w),e.next=3,C();case 3:n=e.sent,c=n.data,!n.isError&&c&&c.data&&c.data.baseUrl?(localStorage.setItem(w,c.data.baseUrl),t.render()):(console.error(v),localStorage.removeItem(w),t.render());case 7:case"end":return e.stop()}}),e)}))),t}return Object(o.a)(n,[{key:"attributeChangedCallback",value:function(t,e,n){if(!Object.values(g).includes(t))throw new Error("Untracked changed attribute: ".concat(t));this.mountPoint&&n!==e&&this.getStrapiConfiguration()}},{key:"connectedCallback",value:function(){this.mountPoint=document.createElement("div"),this.appendChild(this.mountPoint),this.getStrapiConfiguration()}},{key:"render",value:function(){var t=this.getAttribute(g.name),e=this.getAttribute(g.nameTwo),n=this.getAttribute(g.selectedTemplateId),c=this.getAttribute(g.selectedContentId),a=this.getAttribute(g.selectedContentName);u.a.render(Object(J.jsx)(f,{name:t,nameTwo:e,templateId:n,contentId:c,contentName:a}),this.mountPoint)}}],[{key:"observedAttributes",get:function(){return Object.values(g)}}]),n}(Object(I.a)(HTMLElement));customElements.get("my-single-widget")||customElements.define("my-single-widget",x)}},[[80,1,2]]]);
//# sourceMappingURL=main.9a4f3291.chunk.js.map